!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).GDL={})}(this,(function(e){"use strict";class a{static playSound(){const e=new Audio("data:audio/wav;base64,/* base64 encoded short sound */");e.volume=.3,e.play().catch((e=>console.warn("Sound playback failed:",e)))}static vibrate(){"vibrate"in navigator&&navigator.vibrate([100,50,100])}static initDownload(e){var a;const n=document.getElementById(e.buttonId);if(!n)return;const{waitTime:t=3,messages:o={waiting:"Preparing file...",ready:"Download now!"},enableSound:l=!0,enableVibration:i=!0,theme:d="auto"}=e;("dark"===d||"auto"===d&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&n.classList.add("gdl-dark"),n.disabled=!0,n.textContent=o.waiting;const r={apk:"📱",exe:"💻",zip:"🗜️",pdf:"📄"}[(null==(a=e.url.split(".").pop())?void 0:a.toLowerCase())||""]||"📥";n.innerHTML=`${r} ${n.textContent}`;let s=t;const c=setInterval((()=>{var a,t,d,u;s--,n.innerHTML=`${r} ${o.waiting} (${s}s...)`,s<=0&&(clearInterval(c),n.disabled=!1,n.innerHTML=`${r} ${o.ready}`,l&&this.playSound(),i&&this.vibrate(),(null==(a=e.analytics)?void 0:a.gaTrackingId)&&(null==(t=window.gtag)||t.call(window,"event","download_ready",{file_url:e.url})),null==(u=null==(d=e.analytics)?void 0:d.customTracker)||u.call(d,"download_ready"))}),1e3);n.onclick=()=>{var a,n,t,o;window.location.href=e.url,(null==(a=e.analytics)?void 0:a.gaTrackingId)&&(null==(n=window.gtag)||n.call(window,"event","download_start",{file_url:e.url})),null==(o=null==(t=e.analytics)?void 0:t.customTracker)||o.call(t,"download_start")}}}"undefined"!=typeof window&&(window.GDL=a),e.GDL=a,e.default=a,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
//# sourceMappingURL=gdl.umd.js.map
